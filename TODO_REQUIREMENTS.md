# 未実装機能一覧（要件定義書との差分）

## 🔴 重要度：高（ビジネスクリティカル）

1. **銀行口座情報管理機能**
   - 報酬支払いに必須
   - 銀行名、支店名、口座種別、口座番号、口座名義の管理
   - データベーステーブルは存在するがAPIが未実装

2. **支払いサイクル管理機能**
   - 月次支払い（毎月同日）の自動化
   - デフォルト：毎月 25日
   - 締め処理・支払い処理の自動化
   - 現在は手動処理のみ

## 🟡 重要度：中（運用効率化）

3. **監査ログ機能**
   - トレーサビリティ
   - 全操作の記録
   - 変更履歴の保持
   - 現在はconsole.logのみ、専用テーブル・機能なし

4. **CSVエクスポート機能**
   - データ活用
   - 売上データエクスポート
   - 報酬データエクスポート
   - 代理店リストエクスポート

5. **バッチ処理の完全自動化**
   - 月次締め処理の自動実行
   - 報酬自動計算のスケジュール実行
   - 現在は手動トリガーのみ

## 🟢 重要度：低（補完機能）

6. **多言語対応（英語）**
   - グローバル対応
   - UI文言の多言語化

7. **2段階認証**
   - セキュリティ強化
   - TOTP（Time-based One-Time Password）

8. **KPI目標値管理機能**
   - 稼働率99.5%以上
   - 平均応答時間1秒以内
   - エラー率0.1%以下

## 実装済み機能

✅ 基本的な認証機能（ログイン/ログアウト）
✅ ダッシュボード表示（グラフ機能含む）
✅ 代理店管理（代理店コード自動採番実装済み）
✅ 売上管理（売上番号自動採番実装済み）
✅ 報酬管理（階層ボーナス、キャンペーンボーナス、源泉徴収計算実装済み）
✅ 商品マスタ管理（Tier別報酬率設定可能）
✅ 請求書管理（PDF生成機能付き）
✅ 招待機能（レート制限付き）
✅ メール通知機能（Resend API使用）
✅ 書類管理機能（アップロード、承認フロー）
✅ 通知機能
✅ 最低支払額設定（10,000円、繰り越し処理実装済み）
✅ 代理店の階層制限（Tier1-4管理）
✅ 税務情報管理（源泉徴収計算実装済み）
✅ 会社型管理（法人/個人区別、源泉徴収処理切り替え）
✅ パスワードリセット機能
✅ レート制限機能（ログイン、招待、API全体）
✅ セキュリティ機能（XSS対策、SQLインジェクション対策、CSRF対策）
✅ 報酬設定管理
✅ エラーコード体系
✅ 代理店の18歳以上確認機能
✅ フロントエンド/バックエンド分離アーキテクチャ
✅ Supabase連携

## 実装優先順位の推奨

### Phase 1（最優先）
- 銀行口座情報管理API
- 支払いサイクル自動化

### Phase 2（次期）
- CSVエクスポート機能
- 監査ログ機能
- バッチ処理の完全自動化

### Phase 3（将来）
- 多言語対応
- 2段階認証
- KPI目標値管理

---

更新日: 2025-09-29
※ 実装済み機能を正確に反映し、未実装機能のみをリストアップ